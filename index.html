<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Guidon Vayracois - Accueil</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="/css/global.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flag-icons@7/css/flag-icons.min.css">
  <link rel="stylesheet" href="/css/custom.css"> <!-- Place for your custom styles -->
  <style>
    body {
      margin: 0;
      font-family: 'Roboto Condensed', sans-serif;
      background-color: #fff;
      color: #111;
    }
    header {
    background-color: #000;
    padding: 12px 30px;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 1000;
    transition: all 0.3s ease;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
  }

  header, .nav-left ul, .nav-left a {
      font-family: 'Quicksand', sans-serif;
    }
header {
      background: #111;
      padding: 14px 30px;
      position: fixed;
      top: 0; width: 100%;
      z-index: 1000;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }
    .header-container {
      max-width: 1200px;
      margin: auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .logo img { height: 55px; }
    .nav-left ul {
      list-style: none;
      display: flex;
      gap: 20px;
    }
   
    .nav-left ul {
  list-style: none;
  display: flex;
  gap: 20px;
}

.nav-left a {
  position: relative;
  display: inline-block;
  color: #eee;
  text-decoration: none;
  font-weight: 600;
  transition: color 0.3s ease;
  padding: 6px 12px;
}

.nav-left a::after {
  content: '';
  position: absolute;
  left: 12px;     /* correspond au padding-left */
  right: 12px;    /* correspond au padding-right */
  bottom: -1px;   /* décalé légèrement VERS LE BAS */
  height: 2px;
  background-color: #ffeb3b; /* jaune */
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 0.3s ease;
}

.nav-left a:hover::after,
.nav-left a:focus::after,
.nav-left a:active::after {
  transform: scaleX(1);
}

.nav-left a:hover,
.nav-left a:focus,
.nav-left a:active {
  color: #50b5ff; /* bleu clair */
}
.nav-left a.active {
  color: #50b5ff;
}

.nav-left a.active::after {
  transform: scaleX(1);
}

    
    /* burger button */
    .burger {
  display: none;
  font-size: 1.8rem;
  color: #fff;
  cursor: pointer;
}
/* Responsive nav */
@media (max-width: 768px) {
  .burger {
    display: block;
    z-index: 1001;
  }

  .nav-left {
    display: none;
    flex-direction: column;
    position: absolute;
    top: 75px;
    left: 0;
    width: 100%;
    background-color: #111;
    padding: 20px 0;
    z-index: 999;
  }

  .nav-left ul {
    flex-direction: column;
    gap: 15px;
    padding-left: 0;
    margin: 0;
  }

  .nav-left.show {
    display: flex;
  }

  .burger {
    display: block;
    z-index: 1001;
  }
}
.lang-buttons {
  display: flex;
  gap: 10px;
  margin-left: 20px;
}
@media (max-width: 768px) {
  .lang-buttons {
    margin-top: 10px;
    justify-content: center;
    flex-wrap: wrap;
    width: 100%;
    text-align: center;
  }

  .header-container {
    flex-direction: column;
    align-items: center;
  }
}


    
    .hero {
  position: relative;
  text-align: center;
  padding: 60px 20px 40px;
  color: white;
  display: flex;
  flex-direction: column;
  justify-content: center;
  min-height: 100vh; /* Pour que le fond couvre bien l’écran */
  overflow: hidden;
}
.hero {
  padding-top: 120px; /* correspond à la hauteur du header (≈ 80px) + marge de confort */
}


.hero::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    to bottom,
    rgba(0, 0, 0, 0.5) 0%,
    rgba(0, 0, 0, 0.2) 30%,
    rgba(0, 0, 0, 0.2) 70%,
    rgba(0, 0, 0, 0.6) 100%
  );
  z-index: 1;
  pointer-events: none;
}

.hero-background,
.hero-background-next {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center center;
  transition: opacity 1.5s ease-in-out, transform 10s ease-in-out;
  z-index: 0;
  animation: kenburns 15s ease-in-out infinite alternate;
}

@keyframes kenburns {
  0% {
    transform: scale(1) translate(0, 0);
    opacity: 1;
  }
  100% {
    transform: scale(1.2) translate(-2%, -2%);
    opacity: 1;
  }
}

  .highlight-date {
    font-size: 1rem;
    padding: 10px 20px;
  }

  .countdown div {
    padding: 10px;
    font-size: 0.9em;
  }

    .hero-content p {
      color: #f0f0f0;
      font-size: 1.1rem;
      max-width: 700px;
      margin: 0 auto 20px;
    }
    @keyframes fadeInUp {
      0% {
        opacity: 0;
        transform: translateY(30px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .highlight-date {
  display: inline-block;
  padding: 8px 18px;
  border-radius: 50px;
  font-size: 1.1rem;
  font-weight: bold;
  background: linear-gradient(135deg, #0d47a1, #2196f3);
  color: #fff;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.25);
  animation: bouncePulse 2.5s infinite ease-in-out;
  transition: transform 0.3s ease;
  backdrop-filter: blur(5px);
  margin-bottom: 40px;
}

.highlight-date i {
  margin-right: 10px;
  color: #fff;
  font-size: 1.2em;
}
.highlight-date {
  display: inline-block;
  max-width: fit-content;
}
.highlight-date {
  padding: 6px 16px;
  font-size: 2rem;
  max-width: 90%;
  display: inline-block;
  margin: 0 auto 20px;
}


/* Animation subtile type battement */
@keyframes bouncePulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}
.countdown-title {
  margin-top: 20px; 
  font-size: 1.6rem;
  font-weight: 700;
  color: #ffffff;
  text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.6);
  animation: fadeZoomIn 1s ease-out both;
}

.countdown {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: 15px; /* ← plus serré avec le titre */
  flex-wrap: wrap;
}

    .countdown div {
  background: rgba(255, 255, 255, 0.1);
  border: 2px solid rgba(255, 255, 255, 0.3);
  backdrop-filter: blur(6px);
  color: #ffffff;
  padding: 18px 24px;
  border-radius: 12px;
  text-align: center;
  min-width: 80px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
  animation: fadeZoomIn 1s ease-out both;
}
.countdown span {
  font-size: 2.2rem;
  font-weight: 700;
  display: block;
  margin-bottom: 4px;
}

.countdown small {
  font-size: 0.9rem;
  font-weight: 500;
  text-transform: uppercase;
  opacity: 0.9;
}

footer {
      background: #111;
      color: #ccc;
      padding: 60px 20px 20px;
    }
    .footer-container {
      max-width: 1200px;
      margin: auto;
    }
    .footer-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 30px;
    }
    .footer-column h4 {
      color: #50b5ff;
      margin-bottom: 12px;
      font-size: 1.2rem;
    }
    .footer-column a, .footer-column p, .footer-column li {
      color: #ccc;
      font-size: 0.95rem;
      text-decoration: none;
    }
    .footer-column a:hover {
      color: #fff;
    }
    .newsletter-form input[type="email"] {
      padding: 10px;
      width: 100%;
      margin-bottom: 12px;
      border: none;
      border-radius: 6px;
    }
    .newsletter-form button {
      padding: 10px 20px;
      border: none;
      background: #50b5ff;
      color: #fff;
      font-weight: bold;
      border-radius: 6px;
      cursor: pointer;
    }
    .social-icons a {
      margin: 0 8px;
      font-size: 1.5rem;
      color: #ccc;
    }
    .social-icons a:hover {
      color: #50b5ff;
    }
    .footer-logo-center {
      text-align: center;
    }
    .footer-logo-center img {
    max-width: 130px;
    margin-bottom: 10px;
  }
    .footer-copyright {
      margin-top: 40px;
      text-align: center;
      font-size: 0.85rem;
      color: #fff;
    }
    .cookie-banner {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: #000;
      color: #fff;
      padding: 20px;
      font-size: 0.95em;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      z-index: 9999;
      gap: 10px;
      animation: fadeInBanner 0.6s ease-out;
    }
    @keyframes fadeInBanner {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .cookie-banner span {
      max-width: 90%;
    }
    .cookie-banner div {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }
    .cookie-banner button {
      background: #e91e63;
      border: none;
      color: #fff;
      padding: 8px 15px;
      border-radius: 4px;
      cursor: pointer;
      transition: background 0.3s ease;
      font-weight: bold;
    }
    .cookie-banner button:hover {
      background: #c2185b;
    }
    .cookie-banner button:last-child {
      background: #555;
    }
    .cookie-banner button:last-child:hover {
      background: #333;
    }
    .hero::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.2) 30%, rgba(0,0,0,0.2) 70%, rgba(0,0,0,0.6) 100%);
  z-index: 1;
  pointer-events: none;
}

.hero::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: radial-gradient(ellipse at 50% 50%, rgba(255,255,255,0.08), rgba(255,255,255,0.03), transparent);
  opacity: 0.35;
  z-index: 1;
  pointer-events: none;
  animation: mist 20s ease-in-out infinite;
}

@keyframes mist {
  0% { transform: translateX(0%) translateY(0%); }
  50% { transform: translateX(1%) translateY(-1%); }
  100% { transform: translateX(0%) translateY(0%); }
}

.hero-background,
.hero-background-next {
  animation: kenburns 15s ease-in-out infinite alternate;
}

@keyframes kenburns {
  0% {
    transform: scale(1) translate(0, 0);
    opacity: 1;
  }
  100% {
    transform: scale(1.2) translate(-2%, -2%);
    opacity: 1;
  }
}

.hero-content {
  position: relative;
  z-index: 2;
  filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.2));
}
.hero-title {
  font-size: 4rem;
  font-weight: 900;
  font-family: 'Rajdhani', sans-serif;
  text-transform: uppercase;
  text-align: center;
  background: linear-gradient(135deg, #0d47a1, #2196f3);
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
  -webkit-text-fill-color: transparent;

  
}






.edition-num {
  font-size: 1.4em;
  vertical-align: baseline;
  display: inline-block;
  margin-right: 6px;
}

.min-e {
  font-size: 0.65em;
  vertical-align: super;
  display: inline;
  line-height: 1;
}
#hero-title {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  text-align: center;
  gap: 0.25rem;
}

#hero-title .edition-num,
#hero-title .title-letters {
  display: inline-block;
}

.title-letters {
  white-space: nowrap;
}


.uxel-highlight {
  color: #ffffff;
  font-weight: 900;
  text-shadow:
    1px 1px 2px rgba(0, 0, 0, 0.8),
    0 0 12px rgba(255, 255, 255, 0.4),
    0 0 24px rgba(255, 255, 255, 0.2);
}
.hero-subtext {
  font-size: 1.6rem; /* augmenté */
  font-weight: 600;
  max-width: 900px;
  margin: 80px auto 40px; /* espacement au-dessus ET en dessous augmenté */
  color: #ffffff;
  padding: 0;
  border-radius: 0;
  background: none;
  backdrop-filter: none;
  text-shadow:
    1px 1px 2px rgba(0, 0, 0, 0.8),
    0 0 8px rgba(0, 0, 0, 0.5); /* glow sombre pour contraste */
  animation: fadeZoomIn 1s ease-out both;
  line-height: 1.7;
  text-align: center;
}

@keyframes shineText {
  0% {
    background-position: 0% center;
  }
  100% {
    background-position: 200% center;
  }
}

@keyframes fadeZoomIn {
  from {
    opacity: 0;
    transform: scale(0.95) translateY(20px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}



.floating-buttons {
  position: fixed;
  bottom: 20px;
  right: 20px;
  display: flex;
  flex-direction: column;
  gap: 15px;
  z-index: 9999;
}

.floating-buttons button {
  width: 48px;
  height: 48px;
  border: none;
  border-radius: 50%;
  background: linear-gradient(135deg, #0d47a1, #2196f3);
  color: white;
  font-size: 1.3rem;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
}

.floating-buttons button:hover {
  transform: scale(1.1) rotate(5deg);
  background: linear-gradient(135deg, #08306b, #1976d2);
  opacity: 0.95;
}
.lang-btn {
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  border-radius: 4px;
}

.lang-btn span.fi {
  display: inline-block;
  width: 24px;  /* ← taille réduite */
  height: 16px; /* ← taille réduite */
  border-radius: 3px;
  box-shadow: 0 0 0 1px #fff;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.lang-btn:hover span.fi {
  transform: scale(1.1);
  box-shadow: 0 0 6px rgba(255, 255, 255, 0.6);
}

.lang-btn.active span.fi {
  box-shadow: 0 0 0 2px #ffd700, 0 0 6px rgba(255, 215, 0, 0.8);
  transform: scale(1.15);
}
@media (max-width: 500px) {
  .lang-btn span.fi {
    width: 20px;
    height: 13px;
  }
}
/* Copyright discret pour l'image de fond */
.copyright-hero {
  position: absolute;
  bottom: 20px;
  right: 25px;
  font-size: 0.85rem;
  color: #eee;
  background: rgba(0, 0, 0, 0.4);
  padding: 4px 10px;
  border-radius: 5px;
  z-index: 3;
  pointer-events: none;
}
#cookie-modal {
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100vh;
  background-color: rgba(0, 0, 0, 0.75);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 10000;
  padding: 20px;
}

#cookie-modal .modal-content {
  background: #fff;
  color: #222;
  padding: 30px 25px;
  border-radius: 10px;
  max-width: 480px;
  width: 100%;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
  animation: modalFadeIn 0.4s ease-out;
  font-family: 'Quicksand', sans-serif;
}

#cookie-modal h3 {
  margin-top: 0;
  font-size: 1.4rem;
  color: #000;
  margin-bottom: 20px;
  font-weight: 700;
}

#cookie-modal label {
  display: block;
  margin-bottom: 15px;
  font-size: 1rem;
  cursor: pointer;
}

#cookie-modal input[type="checkbox"] {
  margin-right: 10px;
}

#cookie-modal .modal-buttons {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  margin-top: 25px;
}

#cookie-modal button {
  background: #2196f3;
  color: #fff;
  border: none;
  padding: 10px 18px;
  border-radius: 6px;
  cursor: pointer;
  font-weight: bold;
  transition: background 0.3s ease;
}

#cookie-modal button:hover {
  background: #0d47a1;
}

#cookie-modal button:last-child {
  background: #777;
}

#cookie-modal button:last-child:hover {
  background: #444;
}

@keyframes modalFadeIn {
  from { opacity: 0; transform: scale(0.9); }
  to   { opacity: 1; transform: scale(1); }
}



@media (max-width: 768px) {
  .header-container {
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    gap: 10px;
    height: auto;
    padding: 16px 10px;
  }

  .burger {
    order: 1;
  }

  .logo {
    order: 2;
  }

  .lang-buttons {
    order: 3;
    display: flex;
    justify-content: center;
    gap: 10px;
  }

  .lang-buttons .lang-btn span.fi {
    width: 22px;
    height: 15px;
  }

  header {
    padding: 0;
    height: auto;
  }

  .nav-left {
    position: absolute;
    top: 180px; /* espace suffisant sous le header */
    width: 100%;
  }
}
.newsletter-highlight {
    background: #0d47a1;
    color: #fff;
    text-align: center;
    padding: 60px 20px;
    border-radius: 20px;
    margin: 60px auto;
    max-width: 900px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    font-family: 'Quicksand', sans-serif;
  }

  
<link rel="icon" type="image/x-icon" href="images/favicon_guidon_vayracois_bleu_rond.ico">


</style>

</head>
<body>
  <header>
    <div class="header-container">
      <div class="logo">
        <a href="index.html"><img src="images/Logo-Guidon-Vayracois.png" alt="Logo Guidon Vayracois"></a>
      </div>
      <div class="burger" id="burger"><i class="fas fa-bars"></i></div>
      <nav class="nav nav-left" id="mobileMenu">
        <ul>
          <li><a href="index.html" class="active" data-i18n="nav_home">Accueil</a></li>
          <li><a href="qui-sommes-nous.html" data-i18n="nav_about">Qui sommes-nous</a></li>
          <li><a href="Uxellotoise-2025.html" data-i18n="nav_event">Uxellotoise 2025</a></li>
          <li><a href="galerie.html" data-i18n="nav_gallery">Galerie</a></li>
          <li><a href="inscription.html" data-i18n="nav_register">Inscription</a></li>
          <li><a href="partenaires.html" data-i18n="nav_partners">Partenaires</a></li>
          <li><a href="contact.html" data-i18n="nav_contact">Contact</a></li>
        </ul>
      </nav>
      <div class="lang-buttons">
        <button class="lang-btn" data-lang="fr" aria-label="Français"><span class="fi fi-fr"></span></button>
        <button class="lang-btn" data-lang="en" aria-label="English"><span class="fi fi-gb"></span></button>
        <button class="lang-btn" data-lang="es" aria-label="Español"><span class="fi fi-es"></span></button>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="hero-background" id="bg1"></div>
    <div class="hero-background-next" id="bg2"></div>
    <div class="hero-content">
      <h1 class="hero-title">l'Uxel'Lotoise</h1>

    </div>

    
    <div class="highlight-date">
      <i class="fas fa-calendar-day" aria-hidden="true"></i> 10 août 2025
    </div>
    <h2 class="countdown-title" data-i18n="subtitle">⏳ Départ dans...</h2>
    <div class="countdown" id="countdown">
      <div><span id="days">00</span><br><small data-i18n="days">Jours</small></div>
      <div><span id="hours">00</span><br><small data-i18n="hours">Heures</small></div>
      <div><span id="minutes">00</span><br><small data-i18n="minutes">Minutes</small></div>
      <div><span id="seconds">00</span><br><small data-i18n="seconds">Secondes</small></div>
    </div>
    <div class="copyright-hero">© Photo : Rocamadour - CC-BY-NC</div>
  </section>
 
  <footer>
    <div class="footer-container">
      <div class="footer-grid">
        <div class="footer-column">
          <h4 data-i18n="footer_contact">Contact</h4>
          <p><i class="fas fa-map-marker-alt"></i> 28 Rue Jean de Vayrac, 46110 Vayrac</p>
          <p><i class="fas fa-phone"></i> <a href="tel:+33787340690">07 87 34 06 90</a></p>
          <p><i class="fas fa-envelope"></i> <a href="mailto:gvayracois@gmail.com">gvayracois@gmail.com</a></p>
        </div>
        <div class="footer-column">
          <h4 data-i18n="footer_navigation">Navigation</h4>
          <ul>
            <li><a href="mentions-legales.html">Mentions légales</a></li>
            <li><a href="confidentialite.html">Politique de confidentialité</a></li>
            <li><a href="cgu.html">CGU</a></li>
          </ul>
        </div>
        <div class="footer-column">
          <h4 data-i18n="footer_newsletter">Newsletter</h4>
          <form class="newsletter-form" action="https://formspree.io/f/mblorrqe" method="POST">

            <input type="email" name="email" placeholder="Votre email" required />
            <button type="submit">S'inscrire</button>
          </form>
        </div>
        <div class="footer-column footer-logo-center">
          <img src="images/Logo-Guidon-Vayracois.png" alt="Logo du club" />
          <p data-i18n="footer_followus">Suivez-nous sur</p>
          <div class="social-icons">
            <a href="https://www.facebook.com/guidonvayracois" target="_blank"><i class="fab fa-facebook"></i></a>
            <a href="https://www.instagram.com/guidon.vayracoisorange.fr" target="_blank"><i class="fab fa-instagram"></i></a>
          </div>
        </div>
      </div>
      <div class="footer-copyright">
        <p>&copy; <span id="currentYear"></span> <span data-i18n="footer_copyright">Le Guidon Vayracois. Tous droits réservés.</span></p>
      </div>
    </div>
  </footer>

  <div class="floating-buttons">
    <button id="backToTop" aria-label="Retour en haut" title="Retour en haut">
      <i class="fas fa-arrow-up"></i>
    </button>
    <button id="cookieResetBtn" onclick="resetConsent()" title="Réinitialiser les cookies">
      <i class="fas fa-cog"></i>
    </button>
  </div>
  <div class="cookie-banner" id="cookie-banner">
    <span data-i18n="cookie_text">
      Ce site utilise des cookies pour améliorer votre expérience. 
      <a href="confidentialite.html" style="color:#ffd700;">En savoir plus</a>
    </span>
    <div>
      <button onclick="setConsent('all')" data-i18n="cookie_accept">Tout accepter</button>
      <button onclick="setConsent('essential')" data-i18n="cookie_decline">Refuser</button>
      <button onclick="openCookieModal()" data-i18n="cookie_customize">Personnaliser</button>
    </div>
  </div>
  
  <div class="image-container">

  </div>


  <script>

document.addEventListener("DOMContentLoaded", function () {
  // --- Langues ---
  let translations = {};
  let currentLang = "fr";

  async function loadTranslations() {
    try {
      const response = await fetch("locales/lang.json");
      translations = await response.json();
      const savedLang = localStorage.getItem("language");
      const browserLang = navigator.language.slice(0, 2);
      const lang = savedLang || (translations[browserLang] ? browserLang : "fr");
      updateLanguage(lang);
    } catch (err) {
      console.error("Erreur lors du chargement des traductions :", err);
    }
  }

  function updateLanguage(lang) {
    if (!translations[lang]) return;
    document.documentElement.setAttribute('lang', lang);
    localStorage.setItem('language', lang);
    currentLang = lang;

    document.querySelectorAll("[data-i18n]").forEach(el => {
      const key = el.getAttribute("data-i18n");
      if (translations[lang][key]) el.innerHTML = translations[lang][key];
    });

    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
      const key = el.getAttribute('data-i18n-placeholder');
      if (translations[lang][key]) el.placeholder = translations[lang][key];
    });

    document.querySelectorAll(".lang-btn").forEach(btn =>
      btn.classList.toggle("active", btn.dataset.lang === lang)
    );
  }

  document.querySelectorAll(".lang-btn").forEach(btn => {
    btn.addEventListener("click", function () {
      updateLanguage(this.dataset.lang);
    });
  });

  loadTranslations();

  // --- Bouton retour en haut ---
  const backToTopBtn = document.getElementById('backToTop');
  if (backToTopBtn) {
    window.addEventListener('scroll', () => {
      backToTopBtn.style.display = window.scrollY > 300 ? 'flex' : 'none';
    });

    backToTopBtn.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  }

  // --- Burger menu mobile ---
  const burger = document.getElementById("burger");
  const nav = document.getElementById("mobileMenu");
  if (burger && nav) {
    burger.addEventListener("click", () => nav.classList.toggle("show"));
  }

  // --- Activer lien actif dans le menu ---
  const links = document.querySelectorAll(".nav-left a");
  const currentPage = location.pathname.split("/").pop().toLowerCase();
  links.forEach(link => {
    const href = link.getAttribute("href").split("/").pop().toLowerCase();
    if (href === currentPage || (currentPage === "" && href === "index.html")) {
      link.classList.add("active");
    }
  });

 

  // --- Masquer loader si présent ---
  const loader = document.getElementById("loader");
  if (loader) loader.style.display = "none";

  // --- Afficher l'année dynamique dans le footer ---
  const yearEl = document.getElementById("currentYear");
  if (yearEl) yearEl.textContent = new Date().getFullYear();
});
</script>
<script>
  function setConsent(level) {
    localStorage.setItem('cookieConsent', level);
    document.getElementById('cookie-banner').style.display = 'none';
    if (level === 'all') {
      loadAnalytics();
      loadMatomo();
      loadIframes();
    }
  }
  function resetConsent() {
    localStorage.removeItem('cookieConsent');
    document.getElementById('cookie-banner').style.display = 'flex';
  }
  function loadAnalytics() {
    const s = document.createElement('script');
    s.src = 'https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX';
    s.async = true;
    document.head.appendChild(s);
    s.onload = () => {
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-XXXXXXXXXX');
    };
  }
  function loadMatomo() {
    var _paq = window._paq = window._paq || [];
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="https://matomo.example.com/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '1']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
  }
  function loadIframes() {
    document.querySelectorAll('iframe[data-src]').forEach(iframe => {
      iframe.src = iframe.getAttribute('data-src');
      iframe.style.display = 'block';
    });
  }

  window.addEventListener('DOMContentLoaded', () => {
    const consent = localStorage.getItem('cookieConsent');
    if (consent) {
      document.getElementById('cookie-banner').style.display = 'none';
      if (consent === 'all') {
        loadAnalytics();
        loadMatomo();
        loadIframes();
      }
    }
   

    const links = document.querySelectorAll(".nav-left a, .nav-right a");
    links.forEach(link => {
      if (window.location.href.includes(link.getAttribute("href"))) {
        link.classList.add("active");
      }
    });
  });
</script>

<script>
  const images = [
    'images/village-rocamadour.jpg',
    'images/carennac.jpg',
    'images/curemonte.jpg',
    'images/martel.jpg'
  ];
  let current = 0;
  const bg1 = document.getElementById('bg1');
  const bg2 = document.getElementById('bg2');

  function setImage(el, index) {
    el.style.backgroundImage = `url('${images[index]}')`;
  }

  function crossfade() {
    const next = (current + 1) % images.length;
    setImage(bg2, next);
    bg2.style.opacity = 1;
    bg2.style.animation = "kenburns 15s ease-in-out alternate";

    setTimeout(() => {
      bg1.style.opacity = 0;
      setTimeout(() => {
        bg1.style.backgroundImage = bg2.style.backgroundImage;
        [bg1.id, bg2.id] = [bg2.id, bg1.id];
        bg2.style.opacity = 0;
      }, 1500);
    }, 100);
    current = next;
  }

  setImage(bg1, current);
  bg1.style.opacity = 1;
  setInterval(crossfade, 10000); // toutes les 10s
</script>
<script>
  (function () {
    const targetDate = new Date('August 10, 2025 00:00:00').getTime();
    const updateCountdown = () => {
      const now = new Date().getTime();
      const distance = targetDate - now;
      const d = Math.floor(distance / (1000 * 60 * 60 * 24));
      const h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const s = Math.floor((distance % (1000 * 60)) / 1000);
      document.getElementById('days').textContent = d.toString().padStart(2, '0');
      document.getElementById('hours').textContent = h.toString().padStart(2, '0');
      document.getElementById('minutes').textContent = m.toString().padStart(2, '0');
      document.getElementById('seconds').textContent = s.toString().padStart(2, '0');
    };
    updateCountdown();
    setInterval(updateCountdown, 1000);
  })();
</script>

<div id="cookie-modal">
  <div class="modal-content" id="cookie-modal-content">
    <h3 data-i18n="cookie_modal_title">Préférences des cookies</h3>
    <form id="cookiePreferencesForm">
      <label>
        <input type="checkbox" name="essential" checked disabled>
        <span data-i18n="cookie_essential">Cookies essentiels (toujours actifs)</span>
      </label>
      <label>
        <input type="checkbox" name="analytics">
        <span data-i18n="cookie_analytics">Cookies d’analyse (statistiques)</span>
      </label>
      <label>
        <input type="checkbox" name="media">
        <span data-i18n="cookie_media">Contenus multimédias externes</span>
      </label>
    </form>
    <div class="modal-buttons">
      <button type="button" onclick="savePreferences()" data-i18n="cookie_save">Sauvegarder</button>
      <button type="button" onclick="closeCookieModal()" data-i18n="cookie_cancel">Annuler</button>
    </div>
  </div>
</div>

<script>
  function openCookieModal() {
    document.getElementById('cookie-modal').style.display = 'flex';
  }

  function closeCookieModal() {
    document.getElementById('cookie-modal').style.display = 'none';
  }

  function savePreferences() {
    const form = document.getElementById('cookiePreferencesForm');
    const analytics = form.analytics.checked;
    const media = form.media.checked;

    const consent = {
      analytics,
      media
    };
    localStorage.setItem('cookieConsentCustom', JSON.stringify(consent));
    document.getElementById('cookie-banner').style.display = 'none';
    closeCookieModal();

    if (analytics) loadAnalytics();
    if (analytics) loadMatomo();
    if (media) loadIframes();
  }

  window.addEventListener('DOMContentLoaded', () => {
    const stored = localStorage.getItem('cookieConsentCustom');
    if (stored) {
      const consent = JSON.parse(stored);
      if (consent.analytics) {
        loadAnalytics();
        loadMatomo();
      }
      if (consent.media) {
        loadIframes();
      }
      document.getElementById('cookie-banner').style.display = 'none';
    }
  });
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const modal = document.getElementById('cookie-modal');
    const modalContent = document.getElementById('cookie-modal-content');

    modal.addEventListener('click', (e) => {
      if (!modalContent.contains(e.target)) {
        closeCookieModal();
      }
    });
  });
</script>







</body>
</html>
